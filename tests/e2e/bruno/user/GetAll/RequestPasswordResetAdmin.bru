meta {
  name: RequestPasswordResetAdmin
  type: http
  seq: 1
}

get {
  url: {{baseURL}}/auth/password-reset/{{adminEmail}}
  body: none
  auth: none
}

headers {
  Accept-Language: es-ES
}

script:post-response {
  if (!res) {
    console.error("Response is undefined");
    return;
  }

  test("Response status code is 200", function () {
      expect(res.getStatus()).to.equal(200);
  });

  test("Response time is less than 200ms", function () {
      expect(res.getResponseTime()).to.be.below(200);
  });

  test("Response has required fields: data and details", function () {
      const responseData = res.getBody();

      if (!responseData) {
        console.error("Response body is undefined");
        return;
      }

      expect(responseData).to.be.an('object');
      expect(responseData).to.have.all.keys('data', 'details');
  });

  test("Data field should be of boolean type", function () {
      const responseData = res.getBody();

      expect(responseData).to.be.an('object');
      expect(responseData.data).to.be.a('boolean');
  });

  test("Details field should be a string", function () {
      const responseData = res.getBody();

      expect(responseData).to.have.property('details').that.is.a('string');
  });
}

settings {
  encodeUrl: true
}
